<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹åŠ¨æ€ç¥ç¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }
        /* èƒŒæ™¯å›¾å®¹å™¨ */
        .background-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .background-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }
        .background-img.active {
            opacity: 1;
        }
        /* æ ‡é¢˜æ ·å¼ */
        .title {
            position: fixed;
            top: 20px;
            width: 100%;
            text-align: center;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            font-size: 36px;
            z-index: 10;
        }
        /* å¼¹çª—æ ·å¼ï¼ˆå¸¦çˆ±å¿ƒå›¾æ ‡ï¼‰ */
       /* å¼¹çª—æ ·å¼ï¼ˆå¸¦çˆ±å¿ƒå’Œç¬‘è„¸å›¾æ ‡ï¼‰ */
.popup {
    position: absolute;
    padding: 15px 20px;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    color: #333;
    font-size: 16px;
    max-width: 200px;
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.5s ease;
    /* è®©å›¾æ ‡å’Œæ–‡å­—æ­£ç¡®æ’åˆ— */
    display: inline-flex;
    align-items: center;
    gap: 5px;
}
/* å·¦ä¸Šè§’çˆ±å¿ƒ */
.popup::before {
    content: "ğŸ’•";
}
/* å³ä¸Šè§’ç¬‘è„¸ */
.popup::after {
    content: "ğŸ˜";
    margin-left: auto; /* æ¨åˆ°æœ€å³ä¾§ */
}
.popup.show {
    opacity: 1;
    transform: scale(1);
}
/* å¼¹çª—èƒŒæ™¯è‰²éšæœºå˜åŒ– */
.popup.color1 { background: rgba(255,240,245,0.9); }
.popup.color2 { background: rgba(240,255,240,0.9); }
.popup.color3 { background: rgba(240,255,255,0.9); }
.popup.color4 { background: rgba(255,250,240,0.9); }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯å›¾å®¹å™¨ -->
    <div class="background-container">
        <div class="background-img active" style="background-image: url('cake1.png');"></div>
        <div class="background-img" style="background-image: url('cake2.png');"></div>
    </div>

    <!-- æ ‡é¢˜ -->
    <div class="title">ç”Ÿæ—¥å¿«ä¹ï¼</div>

    <script>
        // 1. èƒŒæ™¯å›¾è½®æ’­
        const bgImages = document.querySelectorAll('.background-img');
        let currentBgIndex = 0;
        function switchBackground() {
            bgImages[currentBgIndex].classList.remove('active');
            currentBgIndex = (currentBgIndex + 1) % bgImages.length;
            bgImages[currentBgIndex].classList.add('active');
        }
        setInterval(switchBackground, 8000);

        // 2. å¼¹çª—é€»è¾‘ï¼ˆå åŠ åˆ°40åï¼Œæ–°å¢ä¸å‡å°‘åŒæ­¥ï¼‰
        const blessings = [
            "ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼Œå¤©å¤©å¼€å¿ƒæ²¡çƒ¦æ¼ï¼",
            "æ–°çš„ä¸€å²ï¼Œå¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºé‚ï½",
            "ç”Ÿæ—¥å¿«ä¹ï¼æ„¿æ‰€æœ‰ç¾å¥½éƒ½å›´ç»•ç€ä½ ",
            "æ„¿ä½ æ¯ä¸€å²éƒ½å¥”èµ°åœ¨çƒ­çˆ±é‡Œ",
            "ç”Ÿæ—¥å¿«ä¹å‘€ï¼ä»Šå¤©è¦åƒç”œç”œçš„è›‹ç³•ï½",
            "æ–°å²æ–°èµ·ç‚¹ï¼Œæœªæ¥çš†å¯æœŸï¼",
            "ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼Œä¸æ­¢ä»Šå¤©ï¼Œè€Œæ˜¯æ¯å¤©",
            "æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ï¼Œç”Ÿæ—¥å¿«ä¹ï¼",
            "æš´å¯Œæš´ç¾æš´é¡ºåˆ©ï¼Œç”Ÿæ—¥å¿«ä¹å‘€ï¼",
            "è§£é”æ–°å¹´é¾„ï¼Œå¿«ä¹æ°¸ä¸æ‰“çƒŠï½",
            "æ„¿æ—¥å­æ¸…é€ï¼Œä¸–äº‹æ¸©æŸ”ï¼Œç”Ÿæ—¥å¿«ä¹ï¼",
            "ä¸€å²ä¸€æ¬¢å–œï¼Œå¹´å¹´çš†å¦‚æ„ï¼Œç”Ÿæ—¥å¿«ä¹ï¼"
        ];
        
        const targetMax = 40; // ç›®æ ‡æœ€å¤§æ•°é‡
        let isStable = false; // æ˜¯å¦è¿›å…¥ç¨³å®šé˜¶æ®µï¼ˆ40å¼ å·¦å³ï¼‰

        // åˆ›å»ºå•ä¸ªå¼¹çª—
        function createPopup() {
            const currentPopups = document.querySelectorAll('.popup').length;
            // æœªè¾¾åˆ°ç›®æ ‡å‰ï¼Œåªæ–°å¢ä¸å‡å°‘
            if (!isStable) {
                if (currentPopups < targetMax) {
                    addNewPopup();
                } else {
                    isStable = true; // è¾¾åˆ°40å¼ åè¿›å…¥ç¨³å®šé˜¶æ®µ
                }
            } else {
                // ç¨³å®šé˜¶æ®µï¼šæ–°å¢1ä¸ªåŒæ—¶å‡å°‘1ä¸ªï¼Œä¿æŒæ€»é‡å¹³è¡¡
                addNewPopup();
                removeOldPopup();
            }
        }

        // æ–°å¢å¼¹çª—
        function addNewPopup() {
            const popup = document.createElement('div');
            popup.textContent = blessings[Math.floor(Math.random() * blessings.length)];
            popup.className = `popup color${Math.floor(Math.random() * 4) + 1}`;
            
            // éšæœºä½ç½®
            const maxX = window.innerWidth - 220;
            const maxY = window.innerHeight - 100;
            popup.style.left = `${Math.random() * maxX}px`;
            popup.style.top = `${Math.random() * maxY}px`;

            document.body.appendChild(popup);
            setTimeout(() => popup.classList.add('show'), 10);
        }

        // ç§»é™¤æœ€æ—§çš„å¼¹çª—
        function removeOldPopup() {
            const popups = document.querySelectorAll('.popup');
            if (popups.length > 0) {
                const oldestPopup = popups[0]; // å–ç¬¬ä¸€ä¸ªï¼ˆæœ€æ—§çš„ï¼‰
                oldestPopup.classList.remove('show');
                setTimeout(() => oldestPopup.remove(), 500);
            }
        }

        // å¯åŠ¨é€»è¾‘ï¼šå‰æœŸå¿«é€Ÿå åŠ ï¼Œè¾¾åˆ°40åè¿›å…¥ç¨³å®šé˜¶æ®µ
        function start() {
            // ç¬¬ä¸€é˜¶æ®µï¼šå¿«é€Ÿå åŠ åˆ°40å¼ ï¼ˆæ¯100msæ–°å¢1ä¸ªï¼‰
            const fastInterval = setInterval(createPopup, 100);
            // é¢„è®¡10ç§’å·¦å³è¾¾åˆ°40å¼ ï¼Œä¹‹ååˆ‡æ¢åˆ°ç¨³å®šé˜¶æ®µçš„é¢‘ç‡
            setTimeout(() => {
                clearInterval(fastInterval);
                // ç¨³å®šé˜¶æ®µï¼šæ¯500msæ–°å¢1ä¸ª+å‡å°‘1ä¸ªï¼ˆä¿æŒåŠ¨æ€å¹³è¡¡ï¼‰
                setInterval(createPopup, 500);
            }, 10000);
        }

        // åˆå§‹åŒ–å¯åŠ¨
        start();
    </script>
</body>
</html>